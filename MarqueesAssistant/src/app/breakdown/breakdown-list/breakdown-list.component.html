
 <input [(ngModel)]="this.searchString" placeholder="Szukaj" type="text"><button (click)="this.getBreakdowns()" class="btn btn-info">Szukaj</button>
 <div class="form-group">
  <div class="form-group">
 
    <input type="date" class="form-control" placeholder="Data rozpoczęcia" name="startDate"  [(ngModel)]="startDate">
  </div>
  <div class="form-group">
  
  <input type="date" class="form-control" placeholder="Data zakonczenia" name="endDate"  [(ngModel)]="endDate">
  </div>
  

<div *ngIf="apiResponse != null">
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Opis
        <button class="btn btn-info" (click)="this.sortBy = 1"><p class="arrow up" [ngClass]="setColor(1)"></p></button>
        <button class="btn btn-info" (click)="this.sortBy = 2"><p class="arrow down" [ngClass]="setColor(2)"></p></button>
      </th>
      <th scope="col">Data awarii
        <button class="btn btn-info" (click)="this.sortBy = 3"><p class="arrow up" [ngClass]="setColor(3)"></p></button>
        <button class="btn btn-info" (click)="this.sortBy = 4"><p class="arrow down" [ngClass]="setColor(4)"></p></button>
      </th>
      <th scope="col">Data naprawy
        <button class="btn btn-info" (click)="this.sortBy = 5"><p class="arrow up" [ngClass]="setColor(5)"></p></button>
        <button class="btn btn-info" (click)="this.sortBy = 6"><p class="arrow down" [ngClass]="setColor(6)"></p></button>
      </th>
      <th scope="col">Nazwa sprzętu
        <button class="btn btn-info" (click)="this.sortBy = 7"><p class="arrow up" [ngClass]="setColor(7)"></p></button>
        <button class="btn btn-info" (click)="this.sortBy = 8"><p class="arrow down" [ngClass]="setColor(8)"></p></button>
      </th>
     <th scope="col">Akcja</th>

    
    </tr>
  </thead>
  <tbody  *ngFor="let breakdown of apiResponse.data">
    <tr>
      <td>{{breakdown.description}}</td>
      <td>{{breakdown.accitdentDate}}</td>
    
      <td *ngIf="!compareDates(breakdown.repairdDate); else elseBlock">{{breakdown.repairdDate}}</td>
      <ng-template #elseBlock><td>W trakcie</td></ng-template>
      <td>{{breakdown.equipmentName}}</td>
      
      
      

      <td>
        <!-- <button *ngIf="checkRole() != 'pracownik'" (click)="selectPlace(place.id)" class="btn btn-primary mx-1">Edytuj</button>  -->
        <button [routerLink]="['/breakdownsEdit/'+ breakdown.id]" class="btn btn-primary mx-1">Edytuj</button>
        <button  (click)="openModal(template, breakdown.id)" class="btn btn-danger ">Usuń</button> 
      </td> 
      
    </tr>
  </tbody>
</table>
</div>
<div class="row mr-0">
  <div class="col-xs-12 col-12">
    <pagination [totalItems]="totalItems" [(ngModel)]="pageNumber" (click)="setPage(pageNumber)"></pagination>
  </div>
</div>


<ng-template #template>
  <div class="modal-body text-center">
    <p>Na pewno chcesz usunąć awarie?</p>
    <button type="button" class="btn btn-danger" (click)="confirm()" >Tak</button>
    <button type="button" class="btn btn-primary" (click)="decline()" >Nie</button>
  </div>
</ng-template>

